import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';

<Meta
  title="Layouts/Responsive Images"
/>

# Responsive images
You can improve the performance of your page by loading resized images based on the device viewport.

Image widths will depend on the containers they are displayed in.

You'll find below the definitions for the responsive images set for the most common containers.

The **minimal declarations** keep the automatic image generation smaller, while the **full declarations** ensure optimal pictures (as small as possible) for each viewports.

## Cards 1/3 - 1/3 - 1/3

**Minimal declaration**
```html
<picture>
  <source srcset="https://picsum.photos/720/405/?image=29" width="720" height="405" media="(min-width: 480px)">
  <img src="https://picsum.photos/480/xxx/?image=29" with="480" height="248" alt="image name">
</picture>
```

**Full declaration**
```html
<picture>
  <source srcset="https://picsum.photos/480/270/?image=29" width="480" height="270" media="(min-width: 1544px)">
  <source srcset="https://picsum.photos/460/259/?image=29" width="460" height="259" media="(min-width: 1280px)">
  <source srcset="https://picsum.photos/400/225/?image=29" width="400" height="225" media="(min-width: 1024px)">
  <source srcset="https://picsum.photos/460/259/?image=29" width="460" height="259" media="(min-width: 768px)">
  <source srcset="https://picsum.photos/720/405/?image=29" width="720" height="405" media="(min-width: 480px)">
  <img src="https://picsum.photos/480/xxx/?image=29" with="480" height="248" alt="image name">
</picture>
```




## Cards 1/2  - 1/2

**Minimal declaration**
```html
<picture>
    <source srcset="https://picsum.photos/760/428/?image=29" width="760" height="428" media="(min-width: 480px)">
    <img src="https://picsum.photos/480/xxx/?image=29" with="480" height="248" alt="image name">
</picture>
```

**Full declaration**
```html
<picture>
    <source srcset="https://picsum.photos/760/428/?image=29" width="760" height="428" media="(min-width: 1544px)">
    <source srcset="https://picsum.photos/720/405/?image=29" width="720" height="405" media="(min-width: 1280px)">
    <source srcset="https://picsum.photos/600/338/?image=29" width="600" height="338" media="(min-width: 1024px)">
    <source srcset="https://picsum.photos/460/259/?image=29" width="460" height="259" media="(min-width: 768px)">
    <source srcset="https://picsum.photos/720/405/?image=29" width="720" height="405" media="(min-width: 480px)">
    <img src="https://picsum.photos/480/xxx/?image=29" with="480" height="248" alt="image name">
</picture>
```




## Cards in other layout
When cards are placed in other layouts or have the extended layout (`.card--image-left` or `.card--image-right`), please refer to the corresponding container (see definitions below) to get the responsive sizes.


# Images in containers

## Images in `.container__full`

This represent the biggest image displayable on the website.

**Minimal declaration**
```html
<picture>
    <source srcset="https://picsum.photos/1552/xxx/?image=29" media="(min-width: 1024px)">
    <source srcset="https://picsum.photos/960/xxx/?image=29" media="(min-width: 480px)">
    <img src="https://picsum.photos/480/xxx/?image=29" alt="image name">
</picture>
```

**Full declaration**
```html
<picture>
    <source srcset="https://picsum.photos/1552/xxx/?image=29" media="(min-width: 1544px)">
    <source srcset="https://picsum.photos/1440/xxx/?image=29" media="(min-width: 1280px)">
    <source srcset="https://picsum.photos/1200/xxx/?image=29" media="(min-width: 1024px)">
    <source srcset="https://picsum.photos/960/xxx/?image=29" media="(min-width: 768px)">
    <source srcset="https://picsum.photos/720/xxx/?image=29" media="(min-width: 480px)">
    <img src="https://picsum.photos/480/xxx/?image=29" alt="image name">
</picture>
```




## Images in `.container__center--md`


**Minimal declaration**
```html
<picture>
    <source srcset="https://picsum.photos/1282/xxx/?image=29" media="(min-width: 480px)">
    <img src="https://picsum.photos/480/xxx/?image=29" alt="image name">
</picture>
```

**Full declaration**
```html
<picture>
    <source srcset="https://picsum.photos/1282/xxx/?image=29" media="(min-width: 1800px)">
    <source srcset="https://picsum.photos/1192/xxx/?image=29" media="(min-width: 1024px)">
    <source srcset="https://picsum.photos/800/xxx/?image=29" media="(min-width: 768px)">
    <source srcset="https://picsum.photos/680/xxx/?image=29" media="(min-width: 480px)">
    <img src="https://picsum.photos/480/xxx/?image=29" alt="image name">
</picture>
```

Example of an image displayed in `.hero--default` component. The image has a 16:9 ratio here:

```html
<picture>
    <source srcset="https://picsum.photos/1282/721/?image=29" media="(min-width: 1800px)">
    <source srcset="https://picsum.photos/1192/670/?image=28" media="(min-width: 1024px)">
    <source srcset="https://picsum.photos/800/450/?image=29" media="(min-width: 768px)">
    <source srcset="https://picsum.photos/680/382/?image=28" media="(min-width: 480px)">
    <img src="https://picsum.photos/480/270/?image=29" alt="ratio is 16/9">
</picture>
```




## Images in `.container__center--sm`

**Minimal declaration**
```html
<picture>
    <source srcset="https://picsum.photos/1024/xxx/?image=29" media="(min-width: 480px)">
    <img src="https://picsum.photos/480/xxx/?image=29" alt="image name">
</picture>
```

**Full declaration**
```html
<picture>
    <source srcset="https://picsum.photos/1024/xxx/?image=29" media="(min-width: 1024px)">
    <source srcset="https://picsum.photos/800/xxx/?image=29" media="(min-width: 768px)">
    <source srcset="https://picsum.photos/720/xxx/?image=29" media="(min-width: 480px)">
    <img src="https://picsum.photos/480/xxx/?image=29" alt="image name">
</picture>
```





## Images in `.container__center--xs`

In content of simple detail pages or in content with sidebar, for example.

**Minimal declaration**
```html
<picture>
    <source srcset="https://picsum.photos/800/xxx/?image=29" media="(min-width: 480px)">
    <img src="https://picsum.photos/480/xxx/?image=29" alt="image name">
</picture>
```

**Full declaration**
```html
<picture>
    <source srcset="https://picsum.photos/800/xxx/?image=29" media="(min-width: 768px)">
    <source srcset="https://picsum.photos/720/xxx/?image=29" media="(min-width: 480px)">
    <img src="https://picsum.photos/480/xxx/?image=29" alt="image name">
</picture>
```




# Notes & variations

## Image ratio declaration
- Consist of declaring the width and the height of the images for each steps.
- 16/9 ratio is obligatory for cards
- 16/9 ratio is recommanded for other content images (hero, images, videos, slideshows, etc)

## Retina
- All the current sizes are defined for normal screens.
- If you want to define the retina sizes, you should add HD definitions (x1.5 or x2) to each source

```html
// normal declaration
<source srcset="https://picsum.photos/720/xxx/?image=29" media="(min-width: 480px)">

// retina declaration
<source srcset="https://picsum.photos/720/xxx/?image=29 1x, https://picsum.photos/1440/xxx/?image=29 2x" media="(min-width: 480px)">
```
