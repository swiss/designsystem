import{s as g,q as y,K as h,c as f,b as i,A as k,z as m,u as w,D as _,H as x,x as q,o as l}from"./vue.esm-bundler-BrbFzUHq.js";import{_ as b}from"./SvgIcon-2YXGQNRQ.js";function E(e=document){return[...e.querySelectorAll('a[href], button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])')].filter(t=>!t.hasAttribute("disabled")&&!t.getAttribute("aria-hidden"))}const L={init(e){const t=document.querySelector(e),n=t.querySelector(".popover-button"),a=t.querySelector(".popover-backdrop"),o=t.querySelector(".popover"),p=t.querySelector(".popover__close"),c=E(o);c.forEach(r=>{r.tabIndex=-1});function d(r){const v=r.target;v!==n&&!t.contains(v)&&s()}function s(){n.setAttribute("aria-expanded",!1),o.classList.remove("popover--active"),o.setAttribute("aria-hidden",!0),a.classList.remove("popover-backdrop--active"),c.forEach(r=>{r.tabIndex=-1}),document.removeEventListener("click",d)}function u(){n.setAttribute("aria-expanded",!0),o.classList.add("popover--active"),o.setAttribute("aria-hidden",!1),a.classList.add("popover-backdrop--active"),c.forEach(r=>{r.tabIndex=void 0}),document.addEventListener("click",d)}n.addEventListener("click",()=>{o.classList.contains("popover--active")?s():u()}),a.addEventListener("click",()=>{o.classList.contains("popover--active")?s():u()}),p&&p.addEventListener("click",()=>{s()})}},S=["id"],A=["id","aria-controls"],C={key:0,class:"popover-button__label"},$=["id"],P={class:"popover__close","aria-hidden":"true"},V=g({__name:"Popover",props:{id:{type:String,required:!0},label:{type:String,required:!1,default:()=>{}},color:{type:String,default:()=>"white",validator:e=>["info","error","warning","success","gray","red","yellow","orange","green","blue","indigo","purple","pink","white"].includes(e)},icon:{type:Boolean,default:()=>!0}},setup(e){const t=e,n=y(()=>{let a="popover ";return t.color&&(a+=`popover--${t.color} `),a});return h(()=>{L.init(`#popover-wrapper-${t.id}`)}),(a,o)=>(l(),f("span",{id:`popover-wrapper-${e.id}`,class:"popover-wrapper"},[i("button",{id:`popover-button-${e.id}`,class:"popover-button","aria-controls":`popover-${e.id}`,"aria-haspopup":"dialog","aria-expanded":"false"},[e.label?(l(),f("span",C,k(e.label),1)):m("",!0),e.icon?(l(),w(b,{key:1,icon:"HelpCircle",size:"lg",class:"popover-button__icon"})):m("",!0)],8,A),o[0]||(o[0]=i("span",{class:"popover-backdrop","aria-hidden":"true"},null,-1)),i("span",{id:`popover-${e.id}`,class:q(n.value),"aria-hidden":"true",role:"tooltip"},[i("span",P,[_(b,{icon:"Cancel",size:"lg"})]),x(a.$slots,"default")],10,$)],8,S))}});V.__docgenInfo={exportName:"default",displayName:"Popover",description:"",tags:{},props:[{name:"id",type:{name:"string"},required:!0},{name:"label",type:{name:"string"},required:!1,defaultValue:{func:!0,value:"() => undefined"}},{name:"color",type:{name:"string"},defaultValue:{func:!0,value:"() => 'white'"},values:["info","error","warning","success","gray","red","yellow","orange","green","blue","indigo","purple","pink","white"]},{name:"icon",type:{name:"boolean"},defaultValue:{func:!0,value:"() => true"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/designsystem/designsystem/app/components/ch/components/Popover.vue"]};export{V as _};
