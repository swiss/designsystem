import{s as b,g as f,K as h,k as g,q as e,B as d,A as y,x as C,p as w}from"./vue.esm-bundler-pyqb-EdF.js";class v{constructor(a){this.tableNode=document.getElementById(a),this.columnHeaders=Array.from(this.tableNode.querySelectorAll("thead th")),this.columnHeaders.forEach((l,o)=>{const t=l.querySelector("button");t&&(t.setAttribute("data-column-index",o),t.addEventListener("click",this.handleClick.bind(this)))})}setColumnHeaderSort(a){typeof a=="string"&&(a=parseInt(a)),this.columnHeaders.forEach((l,o)=>{const t=l.querySelector("button");if(o===a){const u=l.getAttribute("aria-sort"),i=u==="descending"||!u?"ascending":"descending";l.setAttribute("aria-sort",i),this.sortColumn(a,i,l.classList.contains("num")?"number":"text")}else l.hasAttribute("aria-sort")&&t&&l.removeAttribute("aria-sort")})}sortColumn(a,l,o){const t=this.tableNode.querySelector("tbody"),u=Array.from(t.children);for(u.sort((i,m)=>{const c=i.querySelectorAll("th, td")[a],p=m.querySelectorAll("th, td")[a];let r="",n="";return o==="number"?(r=parseFloat(c.textContent.toLowerCase().trim()),n=parseFloat(p.textContent.toLowerCase().trim())):o==="date"?(r=c.getAttribute("value").toLowerCase().trim(),n=p.getAttribute("value").toLowerCase().trim()):(r=c.textContent.toLowerCase().trim(),n=p.textContent.toLowerCase().trim()),o==="number"?l==="ascending"?r-n:n-r:l==="ascending"?r.localeCompare(n):n.localeCompare(r)});t.firstChild;)t.removeChild(t.firstChild);for(const i of u)t.appendChild(i)}handleClick(a){const l=a.currentTarget;this.setColumnHeaderSort(l.getAttribute("data-column-index"))}}const x={class:"table-wrapper"},S=["id"],A=b({__name:"TableSortable",props:{variant:{type:String,validator:s=>["compact","default"].includes(s),default:()=>{}},caption:{type:String,default:()=>""},displayCaption:{type:Boolean,default:()=>!0},zebra:{type:Boolean,default:()=>!1},id:{type:String,default:()=>"default"}},setup(s){const a=s,l=f(()=>{let o="table table--sortable ";return a.variant&&(o+=`table--${a.variant} `),a.displayCaption&&(o+="table--caption "),a.zebra&&(o+="table--zebra "),o});return h(()=>{new v(`table-sortable-${a.id}`)}),(o,t)=>(w(),g("div",x,[e("table",{id:`table-sortable-${s.id}`,class:C(l.value)},[e("caption",null,[t[0]||(t[0]=e("br",null,null,-1)),d(" "+y(s.caption)+" ",1),t[1]||(t[1]=e("span",{class:"sr-only"},", column headers with buttons are sortable.",-1))]),t[2]||(t[2]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},[e("button",{class:"table__sorter"},[d(" Name "),e("span",{"aria-hidden":"true"})])]),e("th",{scope:"col","aria-sort":"ascending"},[e("button",{class:"table__sorter"},[d(" Job "),e("span",{"aria-hidden":"true"})])]),e("th",{scope:"col"},"E-mail"),e("th",{scope:"col",class:"text-right"},[e("button",{class:"table__sorter"},[d(" ID "),e("span",{"aria-hidden":"true"})])])])],-1)),t[3]||(t[3]=e("tbody",null,[e("tr",null,[e("th",{scope:"row"},"Jane Cooper"),e("td",null,"Regional Paradigm Technician"),e("td",null,"jane.cooper@example.com"),e("td",{class:"text-right"},"200")]),e("tr",null,[e("th",{scope:"row"},"Cody Fisher"),e("td",null,"Product Directives Officer"),e("td",null,"cody.fisher@example.com"),e("td",{class:"text-right"},"100")]),e("tr",null,[e("th",{scope:"row"},"Esther Howard"),e("td",null,"Forward Response Developer"),e("td",null,"esther.howard@example.com"),e("td",{class:"text-right"},"400")]),e("tr",null,[e("th",{scope:"row"},"Jenny Wilson"),e("td",null,"Central Security Manager"),e("td",null,"jenny.wilson@example.com"),e("td",{class:"text-right"},"600")]),e("tr",null,[e("th",{scope:"row"},"Kristin Watson"),e("td",null,"Lead Implementation Liaison"),e("td",null,"kristin.watson@example.com"),e("td",{class:"text-right"},"300")]),e("tr",null,[e("th",{scope:"row"},"Cameron Williamson"),e("td",null,"Internal Applications Engineer"),e("td",null,"cameron.williamson@example.com"),e("td",{class:"text-right"},"500")])],-1))],10,S)]))}});A.__docgenInfo={exportName:"default",displayName:"TableSortable",description:"",tags:{},props:[{name:"variant",type:{name:"string"},defaultValue:{func:!0,value:"() => undefined"},values:["compact","default"]},{name:"caption",type:{name:"string"},defaultValue:{func:!0,value:"() => ''"}},{name:"displayCaption",type:{name:"boolean"},defaultValue:{func:!0,value:"() => true"}},{name:"zebra",type:{name:"boolean"},defaultValue:{func:!0,value:"() => false"}},{name:"id",type:{name:"string"},defaultValue:{func:!0,value:"() => 'default'"}}],sourceFiles:["/home/runner/work/designsystem/designsystem/app/components/ch/demo/TableSortable.vue"]};export{A as _};
